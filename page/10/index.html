<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.2">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"www.zhuyunfeng.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":"mac"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"appID":"T555GQKTUX","apiKey":"7d845347b76d48d6a2217e816249240b","indexName":"zhuyunfeng","hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Yvan Zhu&#39;s blog">
<meta property="og:url" content="http://www.zhuyunfeng.com/page/10/index.html">
<meta property="og:site_name" content="Yvan Zhu&#39;s blog">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Yvan Zhu">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://www.zhuyunfeng.com/page/10/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>Yvan Zhu's blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Yvan Zhu's blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">17</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">178</span></a>

  </li>
        <li class="menu-item menu-item-schedule">

    <a href="/schedule/" rel="section"><i class="fa fa-calendar fa-fw"></i>日程表</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>
<div class="search-footer">
  <span class="search-commands-key">
    <svg width="15" height="15"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M12 3.53088v3c0 1-1 2-2 2H4M7 11.53088l-3-3 3-3"></path></g></svg>
  </span>
  <div class="search-tips">
    跳转
  </div>
  <span class="search-commands-key"><svg width="15" height="15"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M7.5 11.5v-8M10.5 6.5l-3-3-3 3"></path></g></svg></span>
  <span class="search-commands-key"><svg width="15" height="15"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M7.5 3.5v8M10.5 8.5l-3 3-3-3"></path></g></svg></span>
  <div class="search-tips">
    上下选择
  </div>
  <span class="search-commands-key">
    <svg width="15" height="15"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M13.6167 8.936c-.1065.3583-.6883.962-1.4875.962-.7993 0-1.653-.9165-1.653-2.1258v-.5678c0-1.2548.7896-2.1016 1.653-2.1016.8634 0 1.3601.4778 1.4875 1.0724M9 6c-.1352-.4735-.7506-.9219-1.46-.8972-.7092.0246-1.344.57-1.344 1.2166s.4198.8812 1.3445.9805C8.465 7.3992 8.968 7.9337 9 8.5c.032.5663-.454 1.398-1.4595 1.398C6.6593 9.898 6 9 5.963 8.4851m-1.4748.5368c-.2635.5941-.8099.876-1.5443.876s-1.7073-.6248-1.7073-2.204v-.4603c0-1.0416.721-2.131 1.7073-2.131.9864 0 1.6425 1.031 1.5443 2.2492h-2.956"></path></g></svg>
  </span>
  <div class="search-tips">
    关闭
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>

  <a href="https://github.com/fyzhu" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://www.zhuyunfeng.com/2019/12/04/git%E6%8A%A5%E9%94%99/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Yvan Zhu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yvan Zhu's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2019/12/04/git%E6%8A%A5%E9%94%99/" class="post-title-link" itemprop="url">git报错The following untracked working tree files would be overwritten by checkout</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-12-04 14:30:24" itemprop="dateCreated datePublished" datetime="2019-12-04T14:30:24+00:00">2019-12-04</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-01-05 07:14:52" itemprop="dateModified" datetime="2023-01-05T07:14:52+00:00">2023-01-05</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/technology/" itemprop="url" rel="index"><span itemprop="name">technology</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Changyan：</span>
    
    
      <a title="changyan" href="/2019/12/04/git%E6%8A%A5%E9%94%99/#SOHUCS" itemprop="discussionUrl">
        <span id="url::http://www.zhuyunfeng.com/2019/12/04/git%E6%8A%A5%E9%94%99/" class="cy_cmt_count" data-xid="2019/12/04/git报错/" itemprop="commentCount"></span>
      </a>
    
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>解决方式：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clean -d -fx</span><br></pre></td></tr></table></figure>
<p>删除 一些 没有 git add 的 文件；</p>
<p>git clean 参数 </p>
<pre><code>-n 显示将要删除的文件和目录；

-x -----删除忽略文件已经对git来说不识别的文件

-d -----删除未被添加到git的路径中的文件

-f -----强制运行</code></pre><p>转载自：<a target="_blank" rel="noopener" href="https://blog.csdn.net/u013452337/article/details/81360210">https://blog.csdn.net/u013452337/article/details/81360210</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://www.zhuyunfeng.com/2019/12/04/postgresql%E5%A4%87%E4%BB%BD%E8%BF%98%E5%8E%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Yvan Zhu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yvan Zhu's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2019/12/04/postgresql%E5%A4%87%E4%BB%BD%E8%BF%98%E5%8E%9F/" class="post-title-link" itemprop="url">postgresql备份还原</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-12-04 13:19:33" itemprop="dateCreated datePublished" datetime="2019-12-04T13:19:33+00:00">2019-12-04</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-01-05 07:14:52" itemprop="dateModified" datetime="2023-01-05T07:14:52+00:00">2023-01-05</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/technology/" itemprop="url" rel="index"><span itemprop="name">technology</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/technology/database/" itemprop="url" rel="index"><span itemprop="name">database</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Changyan：</span>
    
    
      <a title="changyan" href="/2019/12/04/postgresql%E5%A4%87%E4%BB%BD%E8%BF%98%E5%8E%9F/#SOHUCS" itemprop="discussionUrl">
        <span id="url::http://www.zhuyunfeng.com/2019/12/04/postgresql%E5%A4%87%E4%BB%BD%E8%BF%98%E5%8E%9F/" class="cy_cmt_count" data-xid="2019/12/04/postgresql备份还原/" itemprop="commentCount"></span>
      </a>
    
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="一、备份"><a href="#一、备份" class="headerlink" title="一、备份"></a>一、备份</h4><p>1.命令行下备份为纯文本格式<br>切换为postgres用户（linux 命令）</p>
<p>su - postgres</p>
<p>备份到backupfile.bak</p>
<p>pg_dump dbname &gt; backupfile.bak</p>
<p>windows下使用-U参数切换用户</p>
<p>pg_dump -h localhost -U postgres -p 5555 dbname &gt; backupfile.bak</p>
<p>2.pgAdmin 4客户端备份为归档文件格式</p>
<h4 id="二、还原"><a href="#二、还原" class="headerlink" title="二、还原"></a>二、还原</h4><p>纯文本格式的脚本<br>使用psql</p>
<p>1.cd到postgresql安装目录，如：d:\program files\postgresql\10\bin&gt;</p>
<p>2.执行 psql -U postgres -d dbname -p 5555 &lt; backupfile.bak</p>
<p>另：使用CMD，不要使用powershell</p>
<p>不加-U（大写），windows下默认是administrator用户，-p是端口</p>
<p>归档文件格式（.sql文件，.backup文件）<br>使用pg_restore</p>
<p>参数：-d 数据库 -j 线程数（可以多线程提高速度） -v 详细模式（显示还原过程）-U（用户名，windows下需要加这项）</p>
<p>pg_restore –dbname=mydb –jobs=4 –verbose mydb.backup</p>
<p>简写：pg_restore -d mydb -j 4 -v mydb.backup</p>
<p>备注</p>
<p>命令行启动postgresql</p>
<p>pg_ctl start -D ../data</p>
<p>../data为你的数据存放路径</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://www.zhuyunfeng.com/2019/09/02/shell%E5%91%BD%E4%BB%A4/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Yvan Zhu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yvan Zhu's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2019/09/02/shell%E5%91%BD%E4%BB%A4/" class="post-title-link" itemprop="url">shell命令</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-09-02 09:26:19" itemprop="dateCreated datePublished" datetime="2019-09-02T09:26:19+00:00">2019-09-02</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-01-05 07:14:52" itemprop="dateModified" datetime="2023-01-05T07:14:52+00:00">2023-01-05</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/technology/" itemprop="url" rel="index"><span itemprop="name">technology</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/technology/Server/" itemprop="url" rel="index"><span itemprop="name">Server</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Changyan：</span>
    
    
      <a title="changyan" href="/2019/09/02/shell%E5%91%BD%E4%BB%A4/#SOHUCS" itemprop="discussionUrl">
        <span id="url::http://www.zhuyunfeng.com/2019/09/02/shell%E5%91%BD%E4%BB%A4/" class="cy_cmt_count" data-xid="2019/09/02/shell命令/" itemprop="commentCount"></span>
      </a>
    
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>Bash(Bourne Again Shell)</p>
<h4 id="查看文件夹大小"><a href="#查看文件夹大小" class="headerlink" title="查看文件夹大小"></a>查看文件夹大小</h4><p>du -sh</p>
<h4 id="新建文件"><a href="#新建文件" class="headerlink" title="新建文件"></a>新建文件</h4><p>touch xxx</p>
<h4 id="cp-f-不起作用"><a href="#cp-f-不起作用" class="headerlink" title="cp -f 不起作用"></a>cp -f 不起作用</h4><p>默认cp命令是有别名(alias cp=’cp -i’)的,无法强制覆盖,即使你用 -f 参数也无法强制覆盖文件。</p>
<h5 id="加个反斜杠，可以使用-cp-执行-cp-命令时不走-alias"><a href="#加个反斜杠，可以使用-cp-执行-cp-命令时不走-alias" class="headerlink" title="加个反斜杠，可以使用 \cp 执行 cp 命令时不走 alias"></a>加个反斜杠，可以使用 \cp 执行 cp 命令时不走 alias</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\<span class="built_in">cp</span> -rf </span><br></pre></td></tr></table></figure>
<p>-r 文件夹<br>-f 强制覆盖，不提示</p>
<h5 id="临时取消-cp-的alias"><a href="#临时取消-cp-的alias" class="headerlink" title="临时取消 cp 的alias"></a>临时取消 cp 的alias</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">unalias</span> <span class="built_in">cp</span></span><br><span class="line"><span class="built_in">cp</span> a /test/a</span><br></pre></td></tr></table></figure>

<h4 id="scp"><a href="#scp" class="headerlink" title="scp"></a>scp</h4><p>scp 是 secure copy的缩写, scp是linux系统下基于ssh登陆进行安全的远程文件拷贝命令。<br>scp [可选参数] file_source file_target </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scp -r ./dist/* root@ip:/www/wwwroot/jd.dreamlist.cn/</span><br></pre></td></tr></table></figure>

<h4 id="ssh"><a href="#ssh" class="headerlink" title="ssh"></a>ssh</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh root@ip</span><br></pre></td></tr></table></figure>
<h4 id="ssh-copy-id"><a href="#ssh-copy-id" class="headerlink" title="ssh-copy-id"></a>ssh-copy-id</h4><p>此功能是把当前主机的 id_rsa.pub copy 到目标主机的 authrized_keys 里，从而实现无密码登录目标主机</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-copy-id -i ~/.ssh/id_rsa.pub root@dreamlist.cn</span><br></pre></td></tr></table></figure>
<h4 id="tail-amp-head"><a href="#tail-amp-head" class="headerlink" title="tail &amp; head"></a>tail &amp; head</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-n&lt;行数&gt; 显示文件的尾部 n 行内容</span><br><span class="line">tail test.log -n 30</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="chown"><a href="#chown" class="headerlink" title="chown"></a>chown</h4><h4 id="chmod"><a href="#chmod" class="headerlink" title="chmod"></a>chmod</h4><p>给 sh 文件可执行权限</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod ugo+x deploy.sh</span><br></pre></td></tr></table></figure>
<h4 id="查看文件属性"><a href="#查看文件属性" class="headerlink" title="查看文件属性"></a>查看文件属性</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lsattr .user.ini</span><br></pre></td></tr></table></figure>
<h4 id="修改文件属性"><a href="#修改文件属性" class="headerlink" title="修改文件属性"></a>修改文件属性</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chattr -i .user.ini</span><br></pre></td></tr></table></figure>
<h4 id="查找文件内容"><a href="#查找文件内容" class="headerlink" title="查找文件内容"></a>查找文件内容</h4><p>grep ‘test’ package.json</p>
<h4 id="ln"><a href="#ln" class="headerlink" title="ln"></a>ln</h4><p>创建链接</p>
<p>Linux链接分两种，一种被称为硬链接（Hard Link），另一种被称为符号链接（Symbolic Link）。默认情况下，ln命令产生硬链接。</p>
<h5 id="hard-link"><a href="#hard-link" class="headerlink" title="hard link"></a>hard link</h5><p>ln f1 f2 </p>
<h5 id="soft-link-Symbolic-Link"><a href="#soft-link-Symbolic-Link" class="headerlink" title="soft link (Symbolic Link)"></a>soft link (Symbolic Link)</h5><p>ln -s f1 f3</p>
<h5 id="list"><a href="#list" class="headerlink" title="list"></a>list</h5><p>ls -li   # -i参数显示文件的inode节点信息</p>
<h4 id="which"><a href="#which" class="headerlink" title="which"></a>which</h4><h4 id="显示行号"><a href="#显示行号" class="headerlink" title="显示行号"></a>显示行号</h4><p>set nu</p>
<h4 id="查看端口占用"><a href="#查看端口占用" class="headerlink" title="查看端口占用"></a>查看端口占用</h4><p>sudo lsof -i :8080</p>
<h4 id="杀死进程"><a href="#杀死进程" class="headerlink" title="杀死进程"></a>杀死进程</h4><p>sudo kill -9 进程pid</p>
<h4 id="nohup"><a href="#nohup" class="headerlink" title="nohup"></a>nohup</h4><p>英文全称 no hang up（不挂起），用于在系统后台不挂断地运行命令，退出终端不会影响程序的运行。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nohup Command [ Arg … ] [　&amp; ]</span><br></pre></td></tr></table></figure>
<p>Command：要执行的命令。</p>
<p>Arg：一些参数，可以指定输出文件。</p>
<p>&amp;：让命令在后台执行，终端退出后命令仍旧执行。</p>
<h4 id="查看ip"><a href="#查看ip" class="headerlink" title="查看ip"></a>查看ip</h4><p>ifconfig | grep “inet “ | grep -v 127.0.0.1</p>
<h4 id="进程相关"><a href="#进程相关" class="headerlink" title="进程相关"></a>进程相关</h4><h5 id="ps"><a href="#ps" class="headerlink" title="ps"></a>ps</h5><p>ps -ef &amp; ps aux<br>-ef是System V展示风格，而aux是BSD风格。 </p>
<h5 id="top"><a href="#top" class="headerlink" title="top"></a>top</h5><p>按P – 以 CPU 占用率大小的顺序排列进程列表</p>
<p>按M – 以内存占用率大小的顺序排列进程列表<br>参考：<br><a target="_blank" rel="noopener" href="https://www.runoob.com/linux/linux-command-manual.html">https://www.runoob.com/linux/linux-command-manual.html</a></p>
<p>top &amp; ps</p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/tudachui/p/9516009.html">https://www.cnblogs.com/tudachui/p/9516009.html</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://www.zhuyunfeng.com/2019/08/25/pm2%E7%9A%84%E4%BD%BF%E7%94%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Yvan Zhu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yvan Zhu's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2019/08/25/pm2%E7%9A%84%E4%BD%BF%E7%94%A8/" class="post-title-link" itemprop="url">pm2的基本使用</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-08-25 22:00:49" itemprop="dateCreated datePublished" datetime="2019-08-25T22:00:49+00:00">2019-08-25</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-01-05 07:14:52" itemprop="dateModified" datetime="2023-01-05T07:14:52+00:00">2023-01-05</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/technology/" itemprop="url" rel="index"><span itemprop="name">technology</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/technology/Server/" itemprop="url" rel="index"><span itemprop="name">Server</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Changyan：</span>
    
    
      <a title="changyan" href="/2019/08/25/pm2%E7%9A%84%E4%BD%BF%E7%94%A8/#SOHUCS" itemprop="discussionUrl">
        <span id="url::http://www.zhuyunfeng.com/2019/08/25/pm2%E7%9A%84%E4%BD%BF%E7%94%A8/" class="cy_cmt_count" data-xid="2019/08/25/pm2的使用/" itemprop="commentCount"></span>
      </a>
    
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="初始化"><a href="#初始化" class="headerlink" title="初始化"></a>初始化</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ pm2 init</span><br><span class="line">$ pm2 ecosystem</span><br></pre></td></tr></table></figure>
<h3 id="启动"><a href="#启动" class="headerlink" title="启动"></a>启动</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># start命令启动对应的node server文件</span></span><br><span class="line">$ pm2 start ./build/server.js --name alisaname</span><br></pre></td></tr></table></figure>
<p>参数<br><code>--name</code><br><code>--watch</code><br>启动npm命令</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ pm2 start npm --name <span class="string">&quot;xxx&quot;</span> -- run start/dev</span><br></pre></td></tr></table></figure>

<h3 id="查看所有启动的进程列表"><a href="#查看所有启动的进程列表" class="headerlink" title="查看所有启动的进程列表"></a>查看所有启动的进程列表</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ pm2 list</span><br></pre></td></tr></table></figure>
<h3 id="查看详细状态信息"><a href="#查看详细状态信息" class="headerlink" title="查看详细状态信息"></a>查看详细状态信息</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ pm2 show  &lt;appname&gt;/&lt;id&gt;</span><br></pre></td></tr></table></figure>
<h3 id="监控进程的-cpu-和内存使用情况"><a href="#监控进程的-cpu-和内存使用情况" class="headerlink" title="监控进程的 cpu 和内存使用情况"></a>监控进程的 cpu 和内存使用情况</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ pm2 monit</span><br></pre></td></tr></table></figure>
<h3 id="显示某个进程的信息"><a href="#显示某个进程的信息" class="headerlink" title="显示某个进程的信息"></a>显示某个进程的信息</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ pm2 info &lt;appname&gt;/&lt;id&gt;</span><br></pre></td></tr></table></figure>
<h3 id="显示某个进程的日志"><a href="#显示某个进程的日志" class="headerlink" title="显示某个进程的日志"></a>显示某个进程的日志</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ pm2 log &lt;appname&gt;/&lt;id&gt;</span><br></pre></td></tr></table></figure>
<h3 id="显示所有进程的日志信息"><a href="#显示所有进程的日志信息" class="headerlink" title="显示所有进程的日志信息"></a>显示所有进程的日志信息</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ pm2 logs</span><br></pre></td></tr></table></figure>
<h3 id="运行健壮的-computer-API-endpoint"><a href="#运行健壮的-computer-API-endpoint" class="headerlink" title="运行健壮的 computer API endpoint"></a>运行健壮的 computer API endpoint</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ pm2 web</span><br></pre></td></tr></table></figure>
<h3 id="停止-指定-所有-进程"><a href="#停止-指定-所有-进程" class="headerlink" title="停止 指定/所有 进程"></a>停止 指定/所有 进程</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ pm2 stop &lt;appname&gt;/&lt;id&gt;</span><br><span class="line">$ pm2 stop all</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="重启-指定-所有-进程"><a href="#重启-指定-所有-进程" class="headerlink" title="重启 指定/所有 进程"></a>重启 指定/所有 进程</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ pm2 restart &lt;appname&gt;/&lt;id&gt;</span><br><span class="line">$ pm2 restart all</span><br></pre></td></tr></table></figure>
<h3 id="杀死-指定-所有-进程"><a href="#杀死-指定-所有-进程" class="headerlink" title="杀死 指定/所有 进程"></a>杀死 指定/所有 进程</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ pm2 delete &lt;appname&gt;/&lt;id&gt;</span><br><span class="line">$ pm2 delete all</span><br></pre></td></tr></table></figure>
<h3 id="清空日志"><a href="#清空日志" class="headerlink" title="清空日志"></a>清空日志</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ pm2 flush</span><br></pre></td></tr></table></figure>
<h3 id="其他命令"><a href="#其他命令" class="headerlink" title="其他命令"></a>其他命令</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ pm2 update <span class="comment"># Save processes, kill PM2 and restore processes</span></span><br><span class="line">$ pm2 save <span class="comment"># 保存当前应用列表</span></span><br><span class="line">$ pm2 startup <span class="comment"># 产生 init 脚本 保持进程活着</span></span><br></pre></td></tr></table></figure>
<h3 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h3><h4 id="js-格式"><a href="#js-格式" class="headerlink" title="js 格式"></a>js 格式</h4><p>请注意，使用 js 配置文件要求文件名结尾为 .config.js</p>
<p>例如：ecosystem.config.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  apps : [&#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;API&#x27;</span>,</span><br><span class="line">    <span class="attr">script</span>: <span class="string">&#x27;app.js&#x27;</span>,</span><br><span class="line">    <span class="attr">args</span>: <span class="string">&#x27;one two&#x27;</span>,</span><br><span class="line">    <span class="attr">instances</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="attr">autorestart</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">watch</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">max_memory_restart</span>: <span class="string">&#x27;1G&#x27;</span>,</span><br><span class="line">    <span class="attr">env</span>: &#123;</span><br><span class="line">      <span class="attr">NODE_ENV</span>: <span class="string">&#x27;development&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">env_production</span>: &#123;</span><br><span class="line">      <span class="attr">NODE_ENV</span>: <span class="string">&#x27;production&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;],</span><br><span class="line"></span><br><span class="line">  deploy : &#123;</span><br><span class="line">    production : &#123; <span class="comment">// 任务名</span></span><br><span class="line">      user : <span class="string">&#x27;node&#x27;</span>, <span class="comment">// 服务器登录用户名</span></span><br><span class="line">      host : <span class="string">&#x27;212.83.163.1&#x27;</span>, <span class="comment">// 可为数组</span></span><br><span class="line">      port : <span class="string">&#x27;22&#x27;</span>,</span><br><span class="line">      ref  : <span class="string">&#x27;origin/master&#x27;</span>,</span><br><span class="line">      repo : <span class="string">&#x27;git@github.com:repo.git&#x27;</span>,</span><br><span class="line">      path : <span class="string">&#x27;/var/www/production&#x27;</span>, <span class="comment">// 服务器网站存放地址</span></span><br><span class="line">      <span class="string">&#x27;post-deploy&#x27;</span> : <span class="string">&#x27;npm install &amp;&amp; pm2 reload ecosystem.config.js --env production&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h5 id="部署时注意"><a href="#部署时注意" class="headerlink" title="部署时注意"></a>部署时注意</h5><p>path 给予权限</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># setup</span></span><br><span class="line">pm2 deploy ecosystem.config.js production(任务名) setup</span><br><span class="line"><span class="comment"># deploy</span></span><br><span class="line">pm2 deploy ecosystem.config.js production(任务名)</span><br></pre></td></tr></table></figure>
<h4 id="json-格式"><a href="#json-格式" class="headerlink" title="json 格式"></a>json 格式</h4><p>例如：process.prod.json</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;egg&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;script&quot;</span><span class="punctuation">:</span> <span class="string">&quot;server.js&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;cwd&quot;</span><span class="punctuation">:</span> <span class="string">&quot;./&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;exec_mode&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cluster&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;watch&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;ignore_watch&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="string">&quot;node_modules&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;logs&quot;</span></span><br><span class="line">    <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;instances&quot;</span><span class="punctuation">:</span> <span class="number">4</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;error_file&quot;</span><span class="punctuation">:</span> <span class="string">&quot;logs/err.log&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;out_file&quot;</span><span class="punctuation">:</span> <span class="string">&quot;logs/out.log&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;log_date_format&quot;</span><span class="punctuation">:</span> <span class="string">&quot;YYYY-MM-DD HH:mm:ss&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;env&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;NODE_ENV&quot;</span><span class="punctuation">:</span> <span class="string">&quot;production&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;engines&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;node&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&gt;=7.6&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>可以根据需要设置任意多个JSON应用程序声明。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;apps&quot;: [</span><br><span class="line">      &#123;</span><br><span class="line">      &quot;name&quot;: &quot;testOne&quot;,</span><br><span class="line">      &quot;script&quot;: &quot; testOne/server.js&quot;,</span><br><span class="line">      &quot;instances&quot;: 1,</span><br><span class="line">      &quot;log_date_format&quot;: &quot;YYYY-MM-DD HH:mm Z&quot;,</span><br><span class="line">      &quot;max_memory_restart&quot;: &quot;500M&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;name&quot;: &quot;testTwo&quot;,</span><br><span class="line">      &quot;script&quot;: &quot; testTwo/server.js&quot;,</span><br><span class="line">      &quot;instances&quot;: 1,</span><br><span class="line">      &quot;log_date_format&quot;: &quot;YYYY-MM-DD HH:mm Z&quot;,</span><br><span class="line">      &quot;max_memory_restart&quot;: &quot;500M&quot;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>启动</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ pm2 start process.prod.json</span><br></pre></td></tr></table></figure>
<h4 id="YAML-格式"><a href="#YAML-格式" class="headerlink" title="YAML 格式"></a>YAML 格式</h4><h4 id="常用配置项说明"><a href="#常用配置项说明" class="headerlink" title="常用配置项说明"></a>常用配置项说明</h4><p>apps： json结构，apps是一个数组，每一个数组成员就是对应一个pm2中运行的应用；</p>
<p>name：应用程序名称；</p>
<p>cwd：应用程序所在的目录；</p>
<p>script：应用程序的脚本路径；</p>
<p>log_date_format： 指定日志日期格式，如YYYY-MM-DD HH：mm：ss；</p>
<p>error_file：自定义应用程序的错误日志文件，代码错误可在此文件查找；</p>
<p>out_file：自定义应用程序日志文件，如应用打印大量的标准输出，会导致pm2日志过大；</p>
<p>pid_file：自定义应用程序的pid文件；</p>
<p>interpreter：指定的脚本解释器；</p>
<p>interpreter_args：传递给解释器的参数；</p>
<p>exec_mode：应用程序启动模式，支持 fork 和 cluster 模式，默认是 fork；</p>
<p>instances： 应用启动实例个数，仅在 cluster 模式有效；</p>
<p>min_uptime：最小运行时间，这里设置的是60s即如果应用程序在60s内退出，pm2会认为程序异常退出，此时触发重启max_restarts设置数量；</p>
<p>max_restarts：设置应用程序异常退出重启的次数，默认15次（从0开始计数）；</p>
<p>autorestart ：默认为true, 发生异常的情况下自动重启；</p>
<p>cron_restart：定时启动，解决重启能解决的问题；</p>
<p>max_memory_restart：最大内存限制数，超出自动重启；</p>
<p>watch：是否启用监控模式，默认是false。如果设置成true，当应用程序变动时，pm2会自动重载。这里也可以设置你要监控的文件。</p>
<p>ignore_watch：忽略监听的文件夹，支持正则表达式；</p>
<p>merge_logs： 设置追加日志而不是新建日志；</p>
<p>exec_interpreter：应用程序的脚本类型，默认是nodejs；</p>
<p>autorestart：启用/禁用应用程序崩溃或退出时自动重启；</p>
<p>vizion：启用/禁用vizion特性(版本控制)；</p>
<p>env：环境变量，object类型；</p>
<p>force：默认false，如果true，可以重复启动一个脚本。pm2不建议这么做；</p>
<p>restart_delay：异常重启情况下，延时重启时间；</p>
<p>参考：<br><a target="_blank" rel="noopener" href="https://pm2.keymetrics.io/">https://pm2.keymetrics.io/</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/huiguo/p/12694542.html">https://www.cnblogs.com/huiguo/p/12694542.html</a></p>
<p><a target="_blank" rel="noopener" href="https://juejin.im/post/5be406705188256dbb5176f94">https://juejin.im/post/5be406705188256dbb5176f94</a></p>
<p><a target="_blank" rel="noopener" href="https://www.douban.com/note/314200231/">https://www.douban.com/note/314200231/</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://www.zhuyunfeng.com/2019/08/13/AD/think-different/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Yvan Zhu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yvan Zhu's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2019/08/13/AD/think-different/" class="post-title-link" itemprop="url">think-different</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-08-13 15:55:11" itemprop="dateCreated datePublished" datetime="2019-08-13T15:55:11+00:00">2019-08-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-01-05 07:14:52" itemprop="dateModified" datetime="2023-01-05T07:14:52+00:00">2023-01-05</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/AD/" itemprop="url" rel="index"><span itemprop="name">AD</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Changyan：</span>
    
    
      <a title="changyan" href="/2019/08/13/AD/think-different/#SOHUCS" itemprop="discussionUrl">
        <span id="url::http://www.zhuyunfeng.com/2019/08/13/AD/think-different/" class="cy_cmt_count" data-xid="2019/08/13/AD/think-different/" itemprop="commentCount"></span>
      </a>
    
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="乔布斯配音无字幕版"><a href="#乔布斯配音无字幕版" class="headerlink" title="乔布斯配音无字幕版"></a>乔布斯配音无字幕版</h2><iframe width=610 height=490 src="//player.bilibili.com/player.html?aid=51035081&cid=89357254&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>

<h2 id="【英语原文】"><a href="#【英语原文】" class="headerlink" title="【英语原文】"></a>【英语原文】</h2><p>Here’s to the crazy ones. The misfits. The rebels. The troublemakers. The round pegs in the square holes. The ones who see things differently. They’re not fond of rules. And they have no respect for the status quo. You can quote them, disagree with them, glorify or vilify them. About the only thing you can’t do is ignore them. Because they change things. They push the human race forward. And while some may see them as the crazy ones, we see genius. Because the people who are crazy enough to think they can change the world are the ones who do.</p>
<h2 id="【中文译文】"><a href="#【中文译文】" class="headerlink" title="【中文译文】"></a>【中文译文】</h2><p>致疯狂的家伙们。他们不合时宜，我行我素。他们桀敖不驯，反叛忤逆。他们麻烦不断，惹是生非。他们像方孔中的圆桩。他们用与众不同的角度看待事情。他们既不墨守成规，也不安于现状。你尽可以认同他们，反对他们，赞美或者鄙视他们。不过你唯独不能漠视他们，因为他们改变着寻常事情。他们推动人类向前。也许有些人认为他们是疯子，在我们眼中他们却是天才。因为只有那些疯狂到认为自己可以改变世界的人，才能真正改变世界。</p>
<h2 id="【翻译笔记】"><a href="#【翻译笔记】" class="headerlink" title="【翻译笔记】"></a>【翻译笔记】</h2><p>1.misfit</p>
<p>n.不称职的人；不适应环境的人；</p>
<p>2.rebel</p>
<p>n.反叛者；造反者；叛乱分子</p>
<p>反抗者；反对任何权威和控制的人</p>
<p>3.troublemaker</p>
<p>n.捣乱者，闹事者；惹麻烦的人</p>
<p>这几个词本身都是偏贬义，但是在这个文案中，是赋予了它们褒义的。</p>
<p>4.peg</p>
<p>n.钉；栓；短桩；桶塞；挂钉；挂钩；测标；桩钉</p>
<p>有关peg的短语：</p>
<p>off the peg 现成的，标准的</p>
<p>I bought the dress off the peg.</p>
<p>这连衣裙我是买现成的。</p>
<p>peg down 用木桩钉住，约束，谈妥</p>
<p>The government is attempting to peg down the price of food.</p>
<p>政府正试图限制食品的价格。</p>
<p>5.status quo n. 现状，维持现状</p>
<p>“I’m not interested in preserving the status quo; I want to overthrow it.” —-Niccolo Machiavelli</p>
<p>我无意保留现状，我想要推翻它。– 尼科洛-马基雅维里</p>
<h2 id="“非同凡响”广告中出现的人物介绍（部分）"><a href="#“非同凡响”广告中出现的人物介绍（部分）" class="headerlink" title="“非同凡响”广告中出现的人物介绍（部分）"></a>“非同凡响”广告中出现的人物介绍（部分）</h2><p>Einstein</p>
<p>爱因斯坦：美籍德国犹太裔，理论物理学家，相对论的创立者，现代物理学奠基人。1921年获诺贝尔物理学奖，1999年被美国《时代周刊》评选为“世纪伟人”。</p>
<p>Bob Dylan</p>
<p>鲍勃·迪伦被认为是20世纪美国最重要、最有影响力的民谣、摇滚歌手，并被视为20世纪60年代美国民权运动的代言人。</p>
<p>Martin Luther King</p>
<p>马丁·路德·金：著名的美国民权运动领袖。1963年，马丁·路德·金晋见了肯尼迪总统，要求通过新的民权法，给黑人以平等的权利。1963年8月28日在林肯纪念堂前发表《我有一个梦想》的演说。1964年度诺贝尔和平奖获得者。1968年4月，马丁·路德·金前往孟菲斯市领导工人罢工被人刺杀，年仅39岁。1986年起美国政府将每年1月的第三个星期一定为马丁路德金全国纪念日。</p>
<p>Buckminster Fuller</p>
<p>巴克明斯特·福勒：美国建筑师，人称无害的怪物，半个世纪以前富勒就设计了一天能造好的“超轻大厦”、能潜水也能飞的汽车、拯救城市的“金刚罩”。他在1967年蒙特利尔世博会上把美国馆变成富勒球，使得轻质圆形穹顶今天风靡世界，他提倡的低碳概念启发了科学家并最终获得诺贝尔奖。</p>
<p>John Lennon and Yoko Ono</p>
<p>约翰·列侬：英国著名摇滚乐队“披头士”（The Beatles，也译做“甲壳虫”）成员，摇滚史上最伟大的音乐家之一 ，披头士乐队的灵魂人物，诗人，社会活动家，反战者。</p>
<p>小野洋子：日裔美籍音乐家、先锋艺术家，约翰·列侬（John Lennon）的第二位妻子。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://www.zhuyunfeng.com/2019/08/10/technology/front-end/javascript/npm%E5%92%8Cyarn/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Yvan Zhu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yvan Zhu's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2019/08/10/technology/front-end/javascript/npm%E5%92%8Cyarn/" class="post-title-link" itemprop="url">npm和yarn和pnpm</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-08-10 22:14:39" itemprop="dateCreated datePublished" datetime="2019-08-10T22:14:39+00:00">2019-08-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-01-05 07:14:52" itemprop="dateModified" datetime="2023-01-05T07:14:52+00:00">2023-01-05</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/technology/" itemprop="url" rel="index"><span itemprop="name">technology</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/technology/front-end/" itemprop="url" rel="index"><span itemprop="name">front-end</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Changyan：</span>
    
    
      <a title="changyan" href="/2019/08/10/technology/front-end/javascript/npm%E5%92%8Cyarn/#SOHUCS" itemprop="discussionUrl">
        <span id="url::http://www.zhuyunfeng.com/2019/08/10/technology/front-end/javascript/npm%E5%92%8Cyarn/" class="cy_cmt_count" data-xid="2019/08/10/technology/front-end/javascript/npm和yarn/" itemprop="commentCount"></span>
      </a>
    
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="全局操作"><a href="#全局操作" class="headerlink" title="全局操作"></a>全局操作</h2><p>npm 加参数 <code>-g/--global</code></p>
<p>yarn 加参数 <code>global</code></p>
<h2 id="查看已安装-npm-包"><a href="#查看已安装-npm-包" class="headerlink" title="查看已安装 npm 包"></a>查看已安装 npm 包</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">npm ls/list/la/ll</span><br><span class="line">npm ls/list xxx</span><br><span class="line">npm list --depth=0 </span><br><span class="line">npm list --depth=0 --global/-g</span><br><span class="line"></span><br><span class="line">yarn list</span><br><span class="line">yarn list xxx</span><br><span class="line">yarn global list </span><br></pre></td></tr></table></figure>
<h2 id="查看-npm-包版本"><a href="#查看-npm-包版本" class="headerlink" title="查看 npm 包版本"></a>查看 npm 包版本</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm view/info/show/v xxx </span><br><span class="line">npm view xxx version <span class="comment"># 最新版本</span></span><br><span class="line">npm view xxx versions <span class="comment"># 所有已发布版本</span></span><br></pre></td></tr></table></figure>
<h2 id="安装npm包"><a href="#安装npm包" class="headerlink" title="安装npm包"></a>安装npm包</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">npm install</span><br><span class="line">npm i</span><br><span class="line"></span><br><span class="line">yarn add</span><br><span class="line"></span><br><span class="line">pnpm i</span><br></pre></td></tr></table></figure>
<h2 id="删除npm包"><a href="#删除npm包" class="headerlink" title="删除npm包"></a>删除npm包</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm uninstall/remove/rm/r/un/unlink &lt;package&gt;</span><br><span class="line"></span><br><span class="line">yarn remove &lt;package&gt;</span><br></pre></td></tr></table></figure>
<h2 id="查看可升级的包"><a href="#查看可升级的包" class="headerlink" title="查看可升级的包"></a>查看可升级的包</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm outdated</span><br><span class="line">yarn outdated</span><br></pre></td></tr></table></figure>
<p>npm 颜色：</p>
<p>黄色表示不符合我们指定的语意化版本范围 - 不需要升级</p>
<p>红色表示符合指定的语意化版本范围 - 需要升级</p>
<h2 id="更新npm包"><a href="#更新npm包" class="headerlink" title="更新npm包"></a>更新npm包</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">npm install &lt;package&gt;@latest</span><br><span class="line">npm update &lt;package&gt;</span><br><span class="line"></span><br><span class="line">yarn add &lt;package&gt;</span><br><span class="line">yarn upgrade &lt;package&gt; --latest</span><br></pre></td></tr></table></figure>
<h2 id="配置镜像"><a href="#配置镜像" class="headerlink" title="配置镜像"></a>配置镜像</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">npm config set registry https://registry.npm.taobao.org</span><br><span class="line"></span><br><span class="line">yarn config set registry https://registry.npm.taobao.org -g</span><br><span class="line"></span><br><span class="line">yarn config set sass_binary_site http://cdn.npm.taobao.org/dist/node-sass -g</span><br></pre></td></tr></table></figure>
<h2 id="查看安装过程"><a href="#查看安装过程" class="headerlink" title="查看安装过程"></a>查看安装过程</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm i --timing=true --loglevel=verbose</span><br><span class="line"></span><br><span class="line">yarn --verbose</span><br></pre></td></tr></table></figure>
<h2 id="npm-root"><a href="#npm-root" class="headerlink" title="npm root"></a>npm root</h2><h2 id="npm-link"><a href="#npm-link" class="headerlink" title="npm link"></a>npm link</h2><h2 id="npm-explain"><a href="#npm-explain" class="headerlink" title="npm explain"></a>npm explain</h2><p>npm why</p>
<h2 id="npm-dedupe"><a href="#npm-dedupe" class="headerlink" title="npm dedupe"></a>npm dedupe</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm ddp <span class="comment">#Reduce duplication</span></span><br></pre></td></tr></table></figure>
<h2 id="代理"><a href="#代理" class="headerlink" title="代理"></a>代理</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">yarn config set proxy http://127.0.0.1:15236</span><br><span class="line">yarn config set https-proxy http://127.0.0.1:15236</span><br><span class="line"></span><br><span class="line">npm config set https-proxy</span><br><span class="line"></span><br><span class="line">yarn config delete proxy</span><br><span class="line">yarn config delete https-proxy</span><br></pre></td></tr></table></figure>
<p>npm 官方文档<br><a target="_blank" rel="noopener" href="https://docs.npmjs.com/cli/v7/commands">https://docs.npmjs.com/cli/v7/commands</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://www.zhuyunfeng.com/2019/08/10/java%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E9%85%8D%E7%BD%AE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Yvan Zhu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yvan Zhu's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2019/08/10/java%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E9%85%8D%E7%BD%AE/" class="post-title-link" itemprop="url">java环境变量配置</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-08-10 20:17:12" itemprop="dateCreated datePublished" datetime="2019-08-10T20:17:12+00:00">2019-08-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-01-05 07:14:52" itemprop="dateModified" datetime="2023-01-05T07:14:52+00:00">2023-01-05</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/technology/" itemprop="url" rel="index"><span itemprop="name">technology</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/technology/back-end/" itemprop="url" rel="index"><span itemprop="name">back-end</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Changyan：</span>
    
    
      <a title="changyan" href="/2019/08/10/java%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E9%85%8D%E7%BD%AE/#SOHUCS" itemprop="discussionUrl">
        <span id="url::http://www.zhuyunfeng.com/2019/08/10/java%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E9%85%8D%E7%BD%AE/" class="cy_cmt_count" data-xid="2019/08/10/java环境变量配置/" itemprop="commentCount"></span>
      </a>
    
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="window10下环境变量配置"><a href="#window10下环境变量配置" class="headerlink" title="window10下环境变量配置"></a>window10下环境变量配置</h1><h2 id="新建JAVA-HOME"><a href="#新建JAVA-HOME" class="headerlink" title="新建JAVA_HOME"></a>新建JAVA_HOME</h2><p>变量名：JAVA_HOME<br>变量值：电脑上JDK安装的绝对路径</p>
<h2 id="新建-修改-CLASSPATH-变量"><a href="#新建-修改-CLASSPATH-变量" class="headerlink" title="新建/修改 CLASSPATH 变量"></a>新建/修改 CLASSPATH 变量</h2><p>变量名：CLASSPATH<br>变量值：.;%JAVA_HOME%\lib\dt.jar;%JAVA_HOME%\lib\tools.jar;</p>
<h2 id="修改Path-变量"><a href="#修改Path-变量" class="headerlink" title="修改Path 变量"></a>修改Path 变量</h2><p>新建两条路径：</p>
<p>%JAVA_HOME%\bin<br>%JAVA_HOME%\jre\bin</p>
<p>参考文档<br><a target="_blank" rel="noopener" href="https://www.runoob.com/w3cnote/windows10-java-setup.html">https://www.runoob.com/w3cnote/windows10-java-setup.html</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://www.zhuyunfeng.com/2019/08/05/technology/apache%E9%85%8D%E7%BD%AEmime/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Yvan Zhu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yvan Zhu's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2019/08/05/technology/apache%E9%85%8D%E7%BD%AEmime/" class="post-title-link" itemprop="url">apache配置mime</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-08-05 16:33:44" itemprop="dateCreated datePublished" datetime="2019-08-05T16:33:44+00:00">2019-08-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-01-05 07:14:52" itemprop="dateModified" datetime="2023-01-05T07:14:52+00:00">2023-01-05</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/technology/" itemprop="url" rel="index"><span itemprop="name">technology</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/technology/Server/" itemprop="url" rel="index"><span itemprop="name">Server</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Changyan：</span>
    
    
      <a title="changyan" href="/2019/08/05/technology/apache%E9%85%8D%E7%BD%AEmime/#SOHUCS" itemprop="discussionUrl">
        <span id="url::http://www.zhuyunfeng.com/2019/08/05/technology/apache%E9%85%8D%E7%BD%AEmime/" class="cy_cmt_count" data-xid="2019/08/05/technology/apache配置mime/" itemprop="commentCount"></span>
      </a>
    
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="配置文件里"><a href="#配置文件里" class="headerlink" title="配置文件里"></a>配置文件里</h1><p>AddType application/wasm .wasm</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://www.zhuyunfeng.com/2019/07/22/%E8%B7%A8%E5%9F%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Yvan Zhu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yvan Zhu's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2019/07/22/%E8%B7%A8%E5%9F%9F/" class="post-title-link" itemprop="url">跨域</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-07-22 10:51:39" itemprop="dateCreated datePublished" datetime="2019-07-22T10:51:39+00:00">2019-07-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-01-05 07:14:52" itemprop="dateModified" datetime="2023-01-05T07:14:52+00:00">2023-01-05</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/technology/" itemprop="url" rel="index"><span itemprop="name">technology</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Changyan：</span>
    
    
      <a title="changyan" href="/2019/07/22/%E8%B7%A8%E5%9F%9F/#SOHUCS" itemprop="discussionUrl">
        <span id="url::http://www.zhuyunfeng.com/2019/07/22/%E8%B7%A8%E5%9F%9F/" class="cy_cmt_count" data-xid="2019/07/22/跨域/" itemprop="commentCount"></span>
      </a>
    
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="为什么会出现跨域"><a href="#为什么会出现跨域" class="headerlink" title="为什么会出现跨域"></a>为什么会出现跨域</h3><p>安全<br>浏览器同源策略<br>同源策略限制了从同一个源加载的文档或脚本如何与来自另一个源的资源进行交互。这是一个用于隔离潜在恶意文件的重要安全机制。<br>cookie<br>CSRF攻击<br>XSS攻击</p>
<h3 id="跨域在chrome浏览器下的表现"><a href="#跨域在chrome浏览器下的表现" class="headerlink" title="跨域在chrome浏览器下的表现"></a>跨域在chrome浏览器下的表现</h3><h3 id="服务器跨域设置"><a href="#服务器跨域设置" class="headerlink" title="服务器跨域设置"></a>服务器跨域设置</h3><p>服务器可以设置只允许某个域名下的程序访问<br>Cross Origin Resource Share (CORS)<br>CORS是一个跨域资源共享方案，为了解决跨域问题，通过增加一系列请求头和响应头，规范安全地进行跨站数据传输<br>请求头主要包括<br>Origin Origin头在跨域请求或预先请求中，标明发起跨域请求的源域名。<br>响应头主要包括<br>Access-Control-Allow-Origin Access-Control-Allow-Origin头中携带了服务器端验证后的允许的跨域请求域名，可以是一个具体的域名或是一个*（表示任意域名）。</p>
<h3 id="跨域解决方案"><a href="#跨域解决方案" class="headerlink" title="跨域解决方案"></a>跨域解决方案</h3><ol>
<li>JSONP</li>
<li>空iframe加form</li>
<li>CORS跨域资源共享（Cross-origin resource sharing）</li>
<li>nginx代理<h3 id="fetch-和-xhr"><a href="#fetch-和-xhr" class="headerlink" title="fetch 和 xhr"></a>fetch 和 xhr</h3><h3 id="withCredentials"><a href="#withCredentials" class="headerlink" title="withCredentials"></a>withCredentials</h3>HTTP 请求方式有许多种，有些请求会触发 CORS 预检请求。“需预检的请求”会使用 OPTIONS 方法发起一个预检请求到服务器，以获知服务器是否允许该实际请求。<br>对于跨域请求浏览器一般不会发送身份凭证信息。如果要发送凭证信息，需要设置 XMLHttpRequest 的 withCredentials 属性为 true：withCredentials: true。此时要求服务器的响应信息中携带 Access-Control-Allow-Credentials: true，否则响应内容将不会返回。<br>对于携带身份凭证的请求，服务器不得设置 Access-Control-Allow-Origin 的值为“*”。因为请求头携带了 Cookie 信息。要将 Access-Control-Allow-Origin 的值设置为<origin>域名。<br>另外，响应头中也携带了 Set-Cookie 字段，尝试对 Cookie 进行修改。如果操作失败，将会抛出异常。<br>————————————————<br>版权声明：本文为CSDN博主「__Amy」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。<br>原文链接：<a target="_blank" rel="noopener" href="https://blog.csdn.net/sansan_7957/article/details/79714486">https://blog.csdn.net/sansan_7957/article/details/79714486</a></li>
</ol>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest/withCredentials">https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest/withCredentials</a></p>
<h3 id="webpack-代理设置"><a href="#webpack-代理设置" class="headerlink" title="webpack 代理设置"></a>webpack 代理设置</h3><p>参考：<br><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000017867312">https://segmentfault.com/a/1190000017867312</a><br><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000015597029">https://segmentfault.com/a/1190000015597029</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://www.zhuyunfeng.com/2019/07/22/%E8%B0%83%E7%94%A8%E5%A4%A9%E5%9C%B0%E5%9B%BEapi%E8%B7%A8%E5%9F%9F%E7%9A%84%E9%97%AE%E9%A2%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Yvan Zhu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yvan Zhu's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2019/07/22/%E8%B0%83%E7%94%A8%E5%A4%A9%E5%9C%B0%E5%9B%BEapi%E8%B7%A8%E5%9F%9F%E7%9A%84%E9%97%AE%E9%A2%98/" class="post-title-link" itemprop="url">调用天地图api跨域的问题</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-07-22 10:42:21" itemprop="dateCreated datePublished" datetime="2019-07-22T10:42:21+00:00">2019-07-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-01-05 07:14:52" itemprop="dateModified" datetime="2023-01-05T07:14:52+00:00">2023-01-05</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/technology/" itemprop="url" rel="index"><span itemprop="name">technology</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/technology/GIS/" itemprop="url" rel="index"><span itemprop="name">GIS</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Changyan：</span>
    
    
      <a title="changyan" href="/2019/07/22/%E8%B0%83%E7%94%A8%E5%A4%A9%E5%9C%B0%E5%9B%BEapi%E8%B7%A8%E5%9F%9F%E7%9A%84%E9%97%AE%E9%A2%98/#SOHUCS" itemprop="discussionUrl">
        <span id="url::http://www.zhuyunfeng.com/2019/07/22/%E8%B0%83%E7%94%A8%E5%A4%A9%E5%9C%B0%E5%9B%BEapi%E8%B7%A8%E5%9F%9F%E7%9A%84%E9%97%AE%E9%A2%98/" class="cy_cmt_count" data-xid="2019/07/22/调用天地图api跨域的问题/" itemprop="commentCount"></span>
      </a>
    
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="调用天地图api跨域的问题"><a href="#调用天地图api跨域的问题" class="headerlink" title="调用天地图api跨域的问题"></a>调用天地图api跨域的问题</h4><p>自2019年1月1日，访问天地图api需要使用token，一个token只能在一个域名下使用，开发时最好每人申请一个token，自己用自己的token就不会有跨域问题了</p>
<h5 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h5><p>使用token调用天地图api获取地图瓦片时出现跨域问题</p>
<h5 id="问题产生原因"><a href="#问题产生原因" class="headerlink" title="问题产生原因"></a>问题产生原因</h5><p>多个域名使用同一个token调用天地图api</p>
<h5 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h5><p>每个域名申请一个token</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/9/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/9/">9</a><span class="page-number current">10</span><a class="page-number" href="/page/11/">11</a><span class="space">&hellip;</span><a class="page-number" href="/page/18/">18</a><a class="extend next" rel="next" href="/page/11/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Yvan Zhu</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">178</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">17</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">33</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/fyzhu" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;fyzhu" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:i@zhuyunfeng.com" title="E-Mail → mailto:i@zhuyunfeng.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://weibo.com/fyzhu01" title="Weibo → https:&#x2F;&#x2F;weibo.com&#x2F;fyzhu01" rel="noopener" target="_blank"><i class="fab fa-weibo fa-fw"></i>Weibo</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/yvanzhu1991" title="Twitter → https:&#x2F;&#x2F;twitter.com&#x2F;yvanzhu1991" rel="noopener" target="_blank"><i class="fab fa-twitter fa-fw"></i>Twitter</a>
      </span>
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i>
      友情链接
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://kalasearch.cn/" title="https:&#x2F;&#x2F;kalasearch.cn&#x2F;" rel="noopener" target="_blank">卡拉搜索</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://kalacloud.com/" title="https:&#x2F;&#x2F;kalacloud.com&#x2F;" rel="noopener" target="_blank">卡拉低代码</a>
        </li>
    </ul>
  </div>

      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        
  <div class="beian"><a href="https://beian.miit.gov.cn/" rel="noopener" target="_blank">京ICP备17034022号 </a>
  </div>

<div class="copyright">
  
  &copy; 2017 – 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Yvan Zhu</span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

  <script id="cy_cmt_num" src="https://changyan.sohu.com/upload/plugins/plugins.list.count.js?clientId=cyup5ie1m"></script>


</body>
</html>
